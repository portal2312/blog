<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.6.1 -->
<title>다중환경 스크린 대응 앱 개발 | Portal2312&#39;s blog</title>
<meta name="generator" content="Jekyll v3.8.6" />
<meta property="og:title" content="다중환경 스크린 대응 앱 개발" />
<meta name="author" content="mkkim" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="(Developing for Multiple Environments and Screens)" />
<meta property="og:description" content="(Developing for Multiple Environments and Screens)" />
<link rel="canonical" href="/blog/docs/develop/N-Z/Sencha/extjs/6.x/wikidocs/1_what_is_new/1_3_multi_screen.html" />
<meta property="og:url" content="/blog/docs/develop/N-Z/Sencha/extjs/6.x/wikidocs/1_what_is_new/1_3_multi_screen.html" />
<meta property="og:site_name" content="Portal2312&#39;s blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2019-12-02T16:38:51+09:00" />
<script type="application/ld+json">
{"description":"(Developing for Multiple Environments and Screens)","headline":"다중환경 스크린 대응 앱 개발","dateModified":"2019-12-02T16:38:51+09:00","datePublished":"2019-12-02T16:38:51+09:00","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"/blog/docs/develop/N-Z/Sencha/extjs/6.x/wikidocs/1_what_is_new/1_3_multi_screen.html"},"url":"/blog/docs/develop/N-Z/Sencha/extjs/6.x/wikidocs/1_what_is_new/1_3_multi_screen.html","author":{"@type":"Person","name":"mkkim"},"@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href='/blog/assets/main.css'><link type="application/atom+xml" rel="alternate" href="/blog/feed.xml" title="Portal2312's blog" /><script>
if(!(window.doNotTrack === "1" || navigator.doNotTrack === "1" || navigator.doNotTrack === "yes" || navigator.msDoNotTrack === "1")) {
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-113063601-1', 'auto');
  ga('send', 'pageview');
}
</script>
  
<script src='/blog/dist/js/common.bundle.js'></script>
</head>
<body><header class="site-header" role="banner">
  <div class="wrapper">
    <a class="site-title" rel="author" href="/blog/">Portal2312&#39;s blog</a>
    <nav class="site-nav">
    <input type="checkbox" id="nav-trigger" class="nav-trigger" />
    <label for="nav-trigger">
      <span class="menu-icon">
        <svg viewBox="0 0 18 15" width="18px" height="15px">
          <path d="M18,1.484c0,0.82-0.665,1.484-1.484,1.484H1.484C0.665,2.969,0,2.304,0,1.484l0,0C0,0.665,0.665,0,1.484,0 h15.032C17.335,0,18,0.665,18,1.484L18,1.484z M18,7.516C18,8.335,17.335,9,16.516,9H1.484C0.665,9,0,8.335,0,7.516l0,0 c0-0.82,0.665-1.484,1.484-1.484h15.032C17.335,6.031,18,6.696,18,7.516L18,7.516z M18,13.516C18,14.335,17.335,15,16.516,15H1.484 C0.665,15,0,14.335,0,13.516l0,0c0-0.82,0.665-1.483,1.484-1.483h15.032C17.335,12.031,18,12.695,18,13.516L18,13.516z"/>
        </svg>
      </span>
    </label>

    <div class="trigger"><a class="page-link" href="/blog/about.html">
            About
          </a><a class="page-link" href="/blog/posts.html">
            Posts
          </a><a class="page-link" href="/blog/history.html">
            History
          </a><a class="page-link" href="/blog/docs/index.html">
            Docs
          </a></div>
  </nav>
  </div>
  <div class="scroll-indicator-container">
  <div class="scroll-indicator-bar" id="scrollIndicatorBar"></div>
</div>

</header>
<main class="page-content" aria-label="Content">
      <div class="wrapper">
        <h1>다중환경  스크린 대응 앱 개발</h1>

  <div>
    <h2>Table of contents</h2>
    <ul class="section-nav">
<li class="toc-entry toc-h2"><a href="#universal-applications-and-toolkits">Universal Applications and Toolkits</a>
<ul>
<li class="toc-entry toc-h3"><a href="#toolkits-2">Toolkits (2)</a>
<ul>
<li class="toc-entry toc-h4"><a href="#classic">classic</a></li>
<li class="toc-entry toc-h4"><a href="#mordern">mordern</a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#universal-application">Universal Application</a></li>
<li class="toc-entry toc-h3"><a href="#app-json">app.json</a></li>
<li class="toc-entry toc-h3"><a href="#build-profiles">Build Profiles</a></li>
<li class="toc-entry toc-h3"><a href="#what-to-expect-when-you-are-building">What to Expect when you are Building(빌드할 때 가능한 일들)</a></li>
<li class="toc-entry toc-h3"><a href="#universal-application">Universal Application</a></li>
<li class="toc-entry toc-h3"><a href="#extjs-6-folder-structure">Extjs 6 Folder Structure</a></li>
<li class="toc-entry toc-h3"><a href="#creating-universal-application">Creating Universal Application</a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#runtime-configurations">Runtime Configurations</a>
<ul>
<li class="toc-entry toc-h3"><a href="#app-profile">App Profile</a></li>
<li class="toc-entry toc-h3"><a href="#platform-config">Platform Config</a></li>
<li class="toc-entry toc-h3"><a href="#responsive-config">Responsive Config (반응적 설정)</a></li>
</ul>
</li>
</ul><p><strong>(Developing for Multiple Environments and Screens)</strong></p>

<h2 id="universal-applications-and-toolkits">
<a class="anchor" href="#universal-applications-and-toolkits" aria-hidden="true"><span class="octicon octicon-link"></span></a>Universal Applications and Toolkits</h2>

<h3 id="toolkits-2">
<a class="anchor" href="#toolkits-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Toolkits (2)</h3>

<h4 id="classic">
<a class="anchor" href="#classic" aria-hidden="true"><span class="octicon octicon-link"></span></a>classic</h4>

<ul>
<li><p>전통적인 Ext JS 5 어플리케이션을 지원.</p></li>
<li><p>데스크탑 브라우저들과 태블릿 및 터치 스크린을 제공하는 랩탑을 지원.</p></li>
</ul>

<h4 id="mordern">
<a class="anchor" href="#mordern" aria-hidden="true"><span class="octicon octicon-link"></span></a>mordern</h4>

<ul>
<li>desktop, phone에 이르는 모든 최신 브라우저(IE11+ 포함)에서 universal HTML5 application 지원.</li>
</ul>

<h3 id="universal-application">
<a class="anchor" href="#universal-application" aria-hidden="true"><span class="octicon octicon-link"></span></a>Universal Application</h3>

<ul>
<li><p>핵심 resource 및 로직을 공유하면서 이 두 <code>Toolkits</code>에 모두 대응하도록 개발된 application.</p></li>
<li><p>Core가 단일화 되어 Data 및 로직 공유 가능, application 최적화 보다 집중 가능.</p></li>
</ul>

<h3 id="app-json">
<a class="anchor" href="#app-json" aria-hidden="true"><span class="octicon octicon-link"></span></a>app.json</h3>

<ul>
<li><p>익숙하지 않으면 Application Core 설정하는 목록 정도로 이해.</p></li>
<li><p>Sencha Cmd에 의해서 생성되며 수정이 필요할 수도 있는 다양한 프로퍼티(Property)를 포함.</p></li>
<li><p>각 Property 는 어떤 사항을 제어하는지 파일 내부에 인라인 주석이 기술.</p></li>
<li>
<p>upgrade 내용</p>

<ul>
<li>만약 프로젝트를 upgrade 중이라면 <code>app.json</code>은 가능한 모든 옵션을 모두 포함하고 있지 않을 수도 있음.</li>
<li>upgrade 마친 후 누락된 property 값은 ".sencha/app/app.defaults.json"에서 확인.</li>
</ul>
</li>
<li><p>이 파일은 임의로 수정하면 안됨. 필요시 그 일부를 app.json으로 copy &amp; paste 가능.</p></li>
</ul>

<h3 id="build-profiles">
<a class="anchor" href="#build-profiles" aria-hidden="true"><span class="octicon octicon-link"></span></a>Build Profiles</h3>

<ul>
<li>application의 app.json 파일에 포함되어 있는 builds 객체에 기반해서 상황별로</li>
</ul>

<p>다른 버전의 application을 생성 할 때 사용.</p>

<ul>
<li><p>대부분 다른 theme 및 로케일을 갖는 application 생성하는 것에 주로 활용.</p></li>
<li><p>이제 build config에 toolkit 키를 지정하고 "classic" or "modern"을 사용할 것이지 결정.</p></li>
<li><p>설정을 완료하고 build하면 Cmd는 설정에 명시한 toolkit에 따라 build 버전을 생성.</p></li>
<li>
<p>Toolkit에 관계없는 코드는 무엇이라도 공유해서 사용 가능.</p>

<ul>
<li>주로 예전의 sencha-core 패키지(data, controller 등)에 해당하는 것이 공유 대상이 될 것.</li>
<li>
<strong>주의:</strong> 작성시 두 toolkit 모두에 의해 사용 가능한 로직이어야 함.</li>
</ul>
</li>
</ul>

<p>Universal 어플리케이션을 위한 builds config는 다음과 같은 JSON 구조:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="c1">// ...</span>
<span class="dl">"</span><span class="s2">builds</span><span class="dl">"</span> <span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">mymodern</span><span class="dl">"</span> <span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">toolkit</span><span class="dl">"</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">modern</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">theme</span><span class="dl">"</span>   <span class="p">:</span> <span class="dl">"</span><span class="s2">theme-cupertino</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">requires</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
            <span class="dl">"</span><span class="s2">charts</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">ux</span><span class="dl">"</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">myclassic</span><span class="dl">"</span> <span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">toolkit</span><span class="dl">"</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">classic</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">theme</span><span class="dl">"</span>   <span class="p">:</span> <span class="dl">"</span><span class="s2">theme-neptune</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">slicer</span><span class="dl">"</span>  <span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">requires</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
            <span class="dl">"</span><span class="s2">charts</span><span class="dl">"</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// ...</span>
</code></pre></div>
<h3 id="what-to-expect-when-you-are-building">
<a class="anchor" href="#what-to-expect-when-you-are-building" aria-hidden="true"><span class="octicon octicon-link"></span></a>What to Expect when you are Building(빌드할 때 가능한 일들)</h3>

<p><em>builds</em> config</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># modern 어플리케이션만 빌드한다.</span>
<span class="nv">$ </span>sencha app build mymodern
<span class="c"># classic 어플리케이션만 빌드한다.</span>
<span class="nv">$ </span>sencha app build myclassic
<span class="c"># builds 객체에 기술되어 있는 모든 target을 빌드한다.</span>
<span class="nv">$ </span>sencha app build
</code></pre></div>
<p><code>build &lt;target-name&gt;</code> mymordern --&gt; foo</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>sencha app build foo
</code></pre></div>
<p>mymodern application build 결과</p>

<p>modern toolkit을 사용하고, chart 및 ux 패키지를 포함하며, Cupertino 테마 갖을 것.
이런 식으로 builds 객체를 활용해 필요한 변형을 생성할 수 있다.
빌드 프로세스의 출력은 기본 값으로 루트 레벨의 build 폴더에서 찾아볼 수 있음.</p>

<h3 id="universal-application">
<a class="anchor" href="#universal-application" aria-hidden="true"><span class="octicon octicon-link"></span></a>Universal Application</h3>

<p>두 Toolkits 대응.</p>

<p>주목할 점은 단일(Single) 어플리케이션은 modern 및 classic 프레임워크를 단일 클래스 경로로 포함할 수 <strong>없다</strong>.</p>

<p>대부분의 경우에 어플리케이션은 통상적인 어플리케이션 디렉토리 즉, 루트 레벨의 'app' 폴더에 글로벌 로직을 포함하게 될 것.</p>

<p>어플리케이션의 통합적 관점 측면에서 이상적으로는 데이터, 모델 및 뷰 모델 등이 그 대상이 될 것.</p>

<p>또한 컨트롤러 역시 공유할 수 있을테지만 개발자 측면에서 toolkit에 특정적인 로직 구현을 해야할 필요가 있을 수도 있음.</p>

<p>예를 들면, 현재 개발 중인 Classic 어플리케이션이 grid를 갖고 있고, Modern 어플리케이션이 list를 갖고 있다고 할 때 이 두 어플리케이션은 둘 다 store와 model을 필요로 하게 된다. 이제 이 두 어플리케이션이 갖는 컴포넌트가 사용자에 의한 조작에 반응하도록 해야 할 경우를 생각해 보자.</p>

<p>예:</p>

<p>코드를 공유하려면 그리드와 리스트가 공유하는 이벤트를 우선 찾아봐야 할 것.
이상적인 해결 방법은 두 컴포넌트가 select 이벤트 발생시키도록 하고 이를 활용하는 것이 되겠지만, 만약 로직에서 "itemtap"을 사용하고 있다면 classic 어플리케이션에서는 이 이벤트를 인식할 수 없게 되어, Cmd 빌드 프로세스 중에 Classic 영역에서 오류를 발생시키게 될 것.</p>

<p>로직 및 리소스의 공유에 대한 검토를 마치면 개발자는 toolkit별로 특정적인 코드를 toolkit src 폴더에 생성하면 됨.</p>

<p>이것이 바로 Ext JS 6의 새로운 Universal 어플리케이션 폴더에 대한 개념.</p>

<p>공통:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># root dir == ./myapp</span>
./myapp/app
</code></pre></div>
<p>다를 경우:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># root dir == ./myapp</span>

<span class="c"># ./myapp/&lt;my-classice&gt;/src</span>
./myapp/classic/src

<span class="c"># ./myapp/&lt;my-modern&gt;/src</span>
./myapp/modern/src
</code></pre></div>
<p><strong>주의:</strong> 만약 단일 Toolkit 어플리케이션을 생성했다면 폴더 구조는 이전과 매우 유사될 것.</p>

<h3 id="extjs-6-folder-structure">
<a class="anchor" href="#extjs-6-folder-structure" aria-hidden="true"><span class="octicon octicon-link"></span></a>Extjs 6 Folder Structure</h3>

<p>Universal 어플리케이션을 생성시 Ext JS 6과 Sencha Cmd 6의 새로운 폴더 구조의 달라진 점을 명확히 인식하는 것이 <strong>중요</strong>.</p>

<p>폴더 구조의 변경은 어플리케이션에 있어 다음의 3가지 영역의 요구사항을 충족할 목적.</p>

<ul>
<li><p>Global 어플리케이션 코드</p></li>
<li><p>Classic Toolkit에 특정적인 코드</p></li>
<li><p>Modern Toolkit에 특정적인 코드</p></li>
</ul>

<p>Universal app의 일반적인 폴더 구조:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># app 또는 workspace  </span>
    /app
        /model
        /store
        /view
    /classic
        /src
        /sass
        /resources
    /modern
        /src
        /sass
        /resources
    /resources
    /sass
</code></pre></div>
<h3 id="creating-universal-application">
<a class="anchor" href="#creating-universal-application" aria-hidden="true"><span class="octicon octicon-link"></span></a>Creating Universal Application</h3>

<p>Universal 어플리케이션 생성 간단.</p>

<p>Sencha Cmd는 적절한 파일 구조와 app.json, 예제 공유 코드를 담은 "starter app"을 생성.</p>

<p>Universal 어플리케이션을 생성하는 방법은 일반적인 어플리케이션 생성과 별반 다르지 않다.</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>sencha <span class="nt">-sdk</span> /path/to/ExtSDK generate app MyApp ./MyApplication
</code></pre></div>
<p>Universal 어플리케이션을 생성. "app" 폴더에 Classic과 Modern 두 Toolkit이 모두 공유하는 데이터를 저장.</p>

<p>Toolkit에 특정적인 파일들은 각각의 해당 toolkit 이름의 폴더(modern, classic)에 저장.</p>

<p>개발을 위한 어플리케이션 각각을 보기 위해서 <code>sencha app watch</code>를 build target을 지정할 때와 같은 방식으로 지정 가능.</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">sencha app watch modern
sencha app watch classic
</code></pre></div>
<p><strong>주의:</strong> <code>watch target</code> default == app.json 의 'builds' 객체 기술된 첫번째 이름.</p>

<hr>

<h2 id="runtime-configurations">
<a class="anchor" href="#runtime-configurations" aria-hidden="true"><span class="octicon octicon-link"></span></a>Runtime Configurations</h2>

<p>어플리케이션 생성시 runtime 환경을 사용할 수 있는 방법중 3가지.</p>

<h3 id="app-profile">
<a class="anchor" href="#app-profile" aria-hidden="true"><span class="octicon octicon-link"></span></a>App Profile</h3>

<p><code>Ext.app.Profile</code> 사용.</p>

<ul>
<li><p>mainView(또는 Viewport) 경유하도록 정의된 기준에 기반해 어플리케이션의 뷰를 교체가능.</p></li>
<li><p>특정 상태 대한 프로파일 활성화 통해 어플리케이션이 완전히 다른 뷰를 갖도록 할 수 있음.</p></li>
</ul>

<p>예) mobile 장치 대비 desktop browser 어느 쪽에 로딩되는 가에 따라 다른 뷰 구성 가능.</p>

<p>이러한 경우, 두가지 프로파일을 생성후, 어플리케이션 클래스의 프로파일 배열에 이 목록 넣기.</p>

<p>설정 예:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">Ext</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="dl">'</span><span class="s1">App.Application</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">extend</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">Ext.app.Application</span><span class="dl">'</span><span class="p">,</span>

    <span class="na">profiles</span> <span class="p">:</span> <span class="p">[</span>
        <span class="dl">'</span><span class="s1">Desktop</span><span class="dl">'</span><span class="p">,</span>
        <span class="dl">'</span><span class="s1">Mobile</span><span class="dl">'</span>
    <span class="p">]</span>
<span class="p">});</span>
</code></pre></div>
<p>active 프로파일은 isActive 메서드의 리턴 값을 이용해 알아낼 수 있다.</p>

<p>감지된 OS 기반으로 데스크탑 뷰를 로딩하기 위해 어플리케이션을 어떻게 설정하면 되는지에 대한:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">Ext</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="dl">'</span><span class="s1">App.profile.Desktop</span><span class="dl">'</span><span class="p">,{</span>
    <span class="na">extend</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">Ext.app.Profile</span><span class="dl">'</span><span class="p">,</span>

    <span class="na">mainView</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">App.view.desktop.Main</span><span class="dl">'</span><span class="p">,</span>

    <span class="na">isActive</span> <span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">Ext</span><span class="p">.</span><span class="nx">os</span><span class="p">.</span><span class="nx">is</span><span class="p">.</span><span class="nx">Desktop</span><span class="p">;</span>
    <span class="p">},</span>

    <span class="na">launch</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Launch Desktop</span><span class="dl">'</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p>프로파일은 mainView config를 사용할 필요가 없다.
대신 프로파일의 launch 메서드를 이용해서 필요한 처리를 하면 된다.
프로파일의 launch 메서드를 호출하면 active 프로파일의 launch 메서드만 호출될 것.</p>

<h3 id="platform-config">
<a class="anchor" href="#platform-config" aria-hidden="true"><span class="octicon octicon-link"></span></a>Platform Config</h3>

<p>작성중.</p>

<h3 id="responsive-config">
<a class="anchor" href="#responsive-config" aria-hidden="true"><span class="octicon octicon-link"></span></a>Responsive Config (반응적 설정)</h3>

<p>작성중.</p>

  </div>

<div>
  <p><strong>(Developing for Multiple Environments and Screens)</strong></p>

<h2 id="universal-applications-and-toolkits">Universal Applications and Toolkits</h2>

<h3 id="toolkits-2">Toolkits (2)</h3>

<h4 id="classic">classic</h4>

<ul>
<li><p>전통적인 Ext JS 5 어플리케이션을 지원.</p></li>
<li><p>데스크탑 브라우저들과 태블릿 및 터치 스크린을 제공하는 랩탑을 지원.</p></li>
</ul>

<h4 id="mordern">mordern</h4>

<ul>
<li>desktop, phone에 이르는 모든 최신 브라우저(IE11+ 포함)에서 universal HTML5 application 지원.</li>
</ul>

<h3 id="universal-application">Universal Application</h3>

<ul>
<li><p>핵심 resource 및 로직을 공유하면서 이 두 <code>Toolkits</code>에 모두 대응하도록 개발된 application.</p></li>
<li><p>Core가 단일화 되어 Data 및 로직 공유 가능, application 최적화 보다 집중 가능.</p></li>
</ul>

<h3 id="app-json">app.json</h3>

<ul>
<li><p>익숙하지 않으면 Application Core 설정하는 목록 정도로 이해.</p></li>
<li><p>Sencha Cmd에 의해서 생성되며 수정이 필요할 수도 있는 다양한 프로퍼티(Property)를 포함.</p></li>
<li><p>각 Property 는 어떤 사항을 제어하는지 파일 내부에 인라인 주석이 기술.</p></li>
<li>
<p>upgrade 내용</p>

<ul>
<li>만약 프로젝트를 upgrade 중이라면 <code>app.json</code>은 가능한 모든 옵션을 모두 포함하고 있지 않을 수도 있음.</li>
<li>upgrade 마친 후 누락된 property 값은 ".sencha/app/app.defaults.json"에서 확인.</li>
</ul>
</li>
<li><p>이 파일은 임의로 수정하면 안됨. 필요시 그 일부를 app.json으로 copy &amp; paste 가능.</p></li>
</ul>

<h3 id="build-profiles">Build Profiles</h3>

<ul>
<li>application의 app.json 파일에 포함되어 있는 builds 객체에 기반해서 상황별로</li>
</ul>

<p>다른 버전의 application을 생성 할 때 사용.</p>

<ul>
<li><p>대부분 다른 theme 및 로케일을 갖는 application 생성하는 것에 주로 활용.</p></li>
<li><p>이제 build config에 toolkit 키를 지정하고 "classic" or "modern"을 사용할 것이지 결정.</p></li>
<li><p>설정을 완료하고 build하면 Cmd는 설정에 명시한 toolkit에 따라 build 버전을 생성.</p></li>
<li>
<p>Toolkit에 관계없는 코드는 무엇이라도 공유해서 사용 가능.</p>

<ul>
<li>주로 예전의 sencha-core 패키지(data, controller 등)에 해당하는 것이 공유 대상이 될 것.</li>
<li>
<strong>주의:</strong> 작성시 두 toolkit 모두에 의해 사용 가능한 로직이어야 함.</li>
</ul>
</li>
</ul>

<p>Universal 어플리케이션을 위한 builds config는 다음과 같은 JSON 구조:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="c1">// ...</span>
<span class="dl">"</span><span class="s2">builds</span><span class="dl">"</span> <span class="p">:</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">mymodern</span><span class="dl">"</span> <span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">toolkit</span><span class="dl">"</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">modern</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">theme</span><span class="dl">"</span>   <span class="p">:</span> <span class="dl">"</span><span class="s2">theme-cupertino</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">requires</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
            <span class="dl">"</span><span class="s2">charts</span><span class="dl">"</span><span class="p">,</span>
            <span class="dl">"</span><span class="s2">ux</span><span class="dl">"</span>
        <span class="p">]</span>
    <span class="p">},</span>
    <span class="dl">"</span><span class="s2">myclassic</span><span class="dl">"</span> <span class="p">:</span> <span class="p">{</span>
        <span class="dl">"</span><span class="s2">toolkit</span><span class="dl">"</span> <span class="p">:</span> <span class="dl">"</span><span class="s2">classic</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">theme</span><span class="dl">"</span>   <span class="p">:</span> <span class="dl">"</span><span class="s2">theme-neptune</span><span class="dl">"</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">slicer</span><span class="dl">"</span>  <span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="dl">"</span><span class="s2">requires</span><span class="dl">"</span><span class="p">:</span> <span class="p">[</span>
            <span class="dl">"</span><span class="s2">charts</span><span class="dl">"</span>
        <span class="p">]</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="c1">// ...</span>
</code></pre></div>
<h3 id="what-to-expect-when-you-are-building">What to Expect when you are Building(빌드할 때 가능한 일들)</h3>

<p><em>builds</em> config</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># modern 어플리케이션만 빌드한다.</span>
<span class="nv">$ </span>sencha app build mymodern
<span class="c"># classic 어플리케이션만 빌드한다.</span>
<span class="nv">$ </span>sencha app build myclassic
<span class="c"># builds 객체에 기술되어 있는 모든 target을 빌드한다.</span>
<span class="nv">$ </span>sencha app build
</code></pre></div>
<p><code>build &lt;target-name&gt;</code> mymordern --&gt; foo</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>sencha app build foo
</code></pre></div>
<p>mymodern application build 결과</p>

<p>modern toolkit을 사용하고, chart 및 ux 패키지를 포함하며, Cupertino 테마 갖을 것.
이런 식으로 builds 객체를 활용해 필요한 변형을 생성할 수 있다.
빌드 프로세스의 출력은 기본 값으로 루트 레벨의 build 폴더에서 찾아볼 수 있음.</p>

<h3 id="universal-application">Universal Application</h3>

<p>두 Toolkits 대응.</p>

<p>주목할 점은 단일(Single) 어플리케이션은 modern 및 classic 프레임워크를 단일 클래스 경로로 포함할 수 <strong>없다</strong>.</p>

<p>대부분의 경우에 어플리케이션은 통상적인 어플리케이션 디렉토리 즉, 루트 레벨의 'app' 폴더에 글로벌 로직을 포함하게 될 것.</p>

<p>어플리케이션의 통합적 관점 측면에서 이상적으로는 데이터, 모델 및 뷰 모델 등이 그 대상이 될 것.</p>

<p>또한 컨트롤러 역시 공유할 수 있을테지만 개발자 측면에서 toolkit에 특정적인 로직 구현을 해야할 필요가 있을 수도 있음.</p>

<p>예를 들면, 현재 개발 중인 Classic 어플리케이션이 grid를 갖고 있고, Modern 어플리케이션이 list를 갖고 있다고 할 때 이 두 어플리케이션은 둘 다 store와 model을 필요로 하게 된다. 이제 이 두 어플리케이션이 갖는 컴포넌트가 사용자에 의한 조작에 반응하도록 해야 할 경우를 생각해 보자.</p>

<p>예:</p>

<p>코드를 공유하려면 그리드와 리스트가 공유하는 이벤트를 우선 찾아봐야 할 것.
이상적인 해결 방법은 두 컴포넌트가 select 이벤트 발생시키도록 하고 이를 활용하는 것이 되겠지만, 만약 로직에서 "itemtap"을 사용하고 있다면 classic 어플리케이션에서는 이 이벤트를 인식할 수 없게 되어, Cmd 빌드 프로세스 중에 Classic 영역에서 오류를 발생시키게 될 것.</p>

<p>로직 및 리소스의 공유에 대한 검토를 마치면 개발자는 toolkit별로 특정적인 코드를 toolkit src 폴더에 생성하면 됨.</p>

<p>이것이 바로 Ext JS 6의 새로운 Universal 어플리케이션 폴더에 대한 개념.</p>

<p>공통:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># root dir == ./myapp</span>
./myapp/app
</code></pre></div>
<p>다를 경우:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># root dir == ./myapp</span>

<span class="c"># ./myapp/&lt;my-classice&gt;/src</span>
./myapp/classic/src

<span class="c"># ./myapp/&lt;my-modern&gt;/src</span>
./myapp/modern/src
</code></pre></div>
<p><strong>주의:</strong> 만약 단일 Toolkit 어플리케이션을 생성했다면 폴더 구조는 이전과 매우 유사될 것.</p>

<h3 id="extjs-6-folder-structure">Extjs 6 Folder Structure</h3>

<p>Universal 어플리케이션을 생성시 Ext JS 6과 Sencha Cmd 6의 새로운 폴더 구조의 달라진 점을 명확히 인식하는 것이 <strong>중요</strong>.</p>

<p>폴더 구조의 변경은 어플리케이션에 있어 다음의 3가지 영역의 요구사항을 충족할 목적.</p>

<ul>
<li><p>Global 어플리케이션 코드</p></li>
<li><p>Classic Toolkit에 특정적인 코드</p></li>
<li><p>Modern Toolkit에 특정적인 코드</p></li>
</ul>

<p>Universal app의 일반적인 폴더 구조:</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="c"># app 또는 workspace  </span>
    /app
        /model
        /store
        /view
    /classic
        /src
        /sass
        /resources
    /modern
        /src
        /sass
        /resources
    /resources
    /sass
</code></pre></div>
<h3 id="creating-universal-application">Creating Universal Application</h3>

<p>Universal 어플리케이션 생성 간단.</p>

<p>Sencha Cmd는 적절한 파일 구조와 app.json, 예제 공유 코드를 담은 "starter app"을 생성.</p>

<p>Universal 어플리케이션을 생성하는 방법은 일반적인 어플리케이션 생성과 별반 다르지 않다.</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash"><span class="nv">$ </span>sencha <span class="nt">-sdk</span> /path/to/ExtSDK generate app MyApp ./MyApplication
</code></pre></div>
<p>Universal 어플리케이션을 생성. "app" 폴더에 Classic과 Modern 두 Toolkit이 모두 공유하는 데이터를 저장.</p>

<p>Toolkit에 특정적인 파일들은 각각의 해당 toolkit 이름의 폴더(modern, classic)에 저장.</p>

<p>개발을 위한 어플리케이션 각각을 보기 위해서 <code>sencha app watch</code>를 build target을 지정할 때와 같은 방식으로 지정 가능.</p>
<div class="highlight"><pre><code class="language-bash" data-lang="bash">sencha app watch modern
sencha app watch classic
</code></pre></div>
<p><strong>주의:</strong> <code>watch target</code> default == app.json 의 'builds' 객체 기술된 첫번째 이름.</p>

<hr>

<h2 id="runtime-configurations">Runtime Configurations</h2>

<p>어플리케이션 생성시 runtime 환경을 사용할 수 있는 방법중 3가지.</p>

<h3 id="app-profile">App Profile</h3>

<p><code>Ext.app.Profile</code> 사용.</p>

<ul>
<li><p>mainView(또는 Viewport) 경유하도록 정의된 기준에 기반해 어플리케이션의 뷰를 교체가능.</p></li>
<li><p>특정 상태 대한 프로파일 활성화 통해 어플리케이션이 완전히 다른 뷰를 갖도록 할 수 있음.</p></li>
</ul>

<p>예) mobile 장치 대비 desktop browser 어느 쪽에 로딩되는 가에 따라 다른 뷰 구성 가능.</p>

<p>이러한 경우, 두가지 프로파일을 생성후, 어플리케이션 클래스의 프로파일 배열에 이 목록 넣기.</p>

<p>설정 예:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">Ext</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="dl">'</span><span class="s1">App.Application</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
    <span class="na">extend</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">Ext.app.Application</span><span class="dl">'</span><span class="p">,</span>

    <span class="na">profiles</span> <span class="p">:</span> <span class="p">[</span>
        <span class="dl">'</span><span class="s1">Desktop</span><span class="dl">'</span><span class="p">,</span>
        <span class="dl">'</span><span class="s1">Mobile</span><span class="dl">'</span>
    <span class="p">]</span>
<span class="p">});</span>
</code></pre></div>
<p>active 프로파일은 isActive 메서드의 리턴 값을 이용해 알아낼 수 있다.</p>

<p>감지된 OS 기반으로 데스크탑 뷰를 로딩하기 위해 어플리케이션을 어떻게 설정하면 되는지에 대한:</p>
<div class="highlight"><pre><code class="language-js" data-lang="js"><span class="nx">Ext</span><span class="p">.</span><span class="nx">define</span><span class="p">(</span><span class="dl">'</span><span class="s1">App.profile.Desktop</span><span class="dl">'</span><span class="p">,{</span>
    <span class="na">extend</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">Ext.app.Profile</span><span class="dl">'</span><span class="p">,</span>

    <span class="na">mainView</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">App.view.desktop.Main</span><span class="dl">'</span><span class="p">,</span>

    <span class="na">isActive</span> <span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="k">return</span> <span class="nx">Ext</span><span class="p">.</span><span class="nx">os</span><span class="p">.</span><span class="nx">is</span><span class="p">.</span><span class="nx">Desktop</span><span class="p">;</span>
    <span class="p">},</span>

    <span class="na">launch</span><span class="p">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">'</span><span class="s1">Launch Desktop</span><span class="dl">'</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">});</span>
</code></pre></div>
<p>프로파일은 mainView config를 사용할 필요가 없다.
대신 프로파일의 launch 메서드를 이용해서 필요한 처리를 하면 된다.
프로파일의 launch 메서드를 호출하면 active 프로파일의 launch 메서드만 호출될 것.</p>

<h3 id="platform-config">Platform Config</h3>

<p>작성중.</p>

<h3 id="responsive-config">Responsive Config (반응적 설정)</h3>

<p>작성중.</p>

</div>

      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/blog/"></data>

  <div class="wrapper">

    <h2 class="footer-heading">Portal2312&#39;s blog</h2>

    <div class="footer-col-wrapper">
      <div class="footer-col footer-col-1">
        <ul class="contact-list">
          <li class="p-name">Portal2312&#39;s blog</li><li><a class="u-email" href="mailto:portal2312@gmail.com">portal2312@gmail.com</a></li></ul>
      </div>

      <div class="footer-col footer-col-2"><ul class="social-media-list"><li><a href="https://github.com/portal2312"><svg class="svg-icon"><use xlink:href="/blog/assets/minima-social-icons.svg#github"></use></svg> <span class="username">portal2312</span></a></li><li><a href="https://www.twitter.com/portal2312"><svg class="svg-icon"><use xlink:href="/blog/assets/minima-social-icons.svg#twitter"></use></svg> <span class="username">portal2312</span></a></li></ul>
</div>

      <div class="footer-col footer-col-3">
        <p>Welcome to my blog.</p>
      </div>
    </div>

  </div>

</footer>
</body>

</html>
